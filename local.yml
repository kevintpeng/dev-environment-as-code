- hosts: localhost
  become: true
  become_user: "{{ username }}"
  tasks:
  - name: Install Dotfiles
    include: ./ansible/dotfiles.yml
    tags:
      - dotfiles

  - name: Install Apps
    homebrew_cask:
      pkg: "{{ item }}"
      state: present
    ignore_errors: True
    with_items:
      - google-chrome
      - atom
      - anki
      - steam
      - discord
      - https://raw.githubusercontent.com/caskroom/homebrew-cask/fda3b24db9052dcbffa84e40138e355e88343dab/Casks/1password.rb
      - karabiner-elements
      - deluge
      - firefox
      - bettertouchtool
    tags:
      - apps

  - name: Setup Shell
    include: ./ansible/shell.yml
    tags:
      - shell

  - name: Setup Asthetics
    include: ./ansible/asthetics.yml
    tags:
      - asthetics

  - name: Install Window Manager
    include: ./ansible/window_manager.yml
    tags:
      - window_manager

  - name: Install Utilities
    include: ./ansible/utilities.yml
    tags:
      - utilities

  - name: Mackup Restore
    include: ./ansible/mackup.yml
    tags:
      - mackup
